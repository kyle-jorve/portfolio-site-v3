import{global}from"/dist/scripts/global.js?v=1.0.2";import{nav}from"/dist/scripts/nav.js";import{helpers}from"/dist/scripts/global-helpers.js";let data,template;function buildHeader(){global.getGlobalData().then(a=>(data={nav:a.nav,social:[...a.socialIcons.standard,{name:"email",cssClass:"envelope",url:`mailto:${a.email}`},...a.socialIcons.commerce],recentWorkLimit:a.recentWorkLimit},data.mobileNav=a.nav.filter(a=>a.showInMobileNav),global.fetchFn(global.dataLoc.portfolio))).then(a=>{data.recentWork=a.items.slice(0,data.recentWorkLimit),template=Handlebars.templates[global.templateSources.header](data),global.els.header.insertAdjacentHTML("afterbegin",template)}).catch(a=>console.warn(a)).finally(()=>{window.location.pathname.includes(global.pageURLs.portfolioDetail)?nav.initPortfolioDetail():nav.init()})}const header={buildHeader:buildHeader};export{header};