import{global}from"/dist/scripts/global.js?v=1.0.2";const seoProps={canonicalUrl:"canon",metaImage:"metaImage",metaDesc:"metaDesc",metaTitle:"metaTitle"};let data,template;function updateMetaImage(a){return`${data.siteUrl}${a}`}function augmentData(a){for(var e in a)data.hasOwnProperty(e)?(e===seoProps.canonicalUrl&&(data[e]+=a[e]),e===seoProps.metaImage&&(data[e]=updateMetaImage(a[e])),e===seoProps.metaDesc&&(data[e]=a[e]),e===seoProps.metaTitle&&(data[e]=`${a[e]} | ${data[e]}`)):data[e]=a[e]}function buildHead(e=!1,t=!1){global.getGlobalData().then(a=>{if(a.seo&&(data=a.seo),data.siteUrl=a.siteUrl,data.metaImage=updateMetaImage(data[seoProps.metaImage]),t&&augmentData(t),e)return global.fetchFn(e);throw new Error("No augmenting data, moving on")}).then(a=>{a.seo&&augmentData(a=a.seo)}).catch(a=>console.warn(a)).finally(()=>{template=Handlebars.templates[global.templateSources.head](data),global.els.head.insertAdjacentHTML("afterbegin",template)})}const head={buildHead:buildHead};export{head};