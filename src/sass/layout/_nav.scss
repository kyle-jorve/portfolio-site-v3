/*//////////////////////////////////////////////////////*/
/*//====================----------====================//*/
/*//                  SITE NAVIGATION                 //*/
/*//====================----------====================//*/
/*//////////////////////////////////////////////////////*/

$nav: '.nav';

#{$nav} {
	opacity: 0;
	visibility: hidden;
	pointer-events: none;
	max-height: 100vh;
	overflow-x: hidden;
	overflow-y: auto;
	color: $lightTextColor;
	text-align: center;
	position: fixed;
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;
	z-index: 98;
	transition: opacity $longTransitionAppendix, visibility $longTransitionAppendix;

	&__wrp {
		@include gradient(($mobileNavBg, #e83477), vertical);
		min-height: 100vh;
		padding: 8em 2em 2em 2em;
	}

	&__ul,
	&__li {
		display: block;
		list-style: none;
		margin: 0;
		padding: 0;
	}

	&__ul {
		@include flexWrap(column, nowrap, flex-start, center);
		margin-bottom: 4em;
	}

	&__text {
		display: block;
		color: inherit;
		position: relative;

		&::before {
			@include absolute(center-horizontal);
			opacity: 0;
			content: '';
			width: $navBtnBlockDiam;
			height: $navBtnBlockDiam;
			background: $lightTextColor;
			border-radius: 50%;
			bottom: -0.5em;
			transform: translate(-50%, 0.5em);
			transition: transform $transitionAppendix, opacity $transitionAppendix;
		}
	}

	&__a {
		@include heading();
		opacity: 0.65;
		display: block;
		padding: 1em;
		margin: 0;
		text-decoration: none;
		color: inherit;
		font-size: $largeFontSize;
		transition: opacity $transitionAppendix;

		@media (hover: hover) {
			&:hover {
				@include activeNavItem();
				color: inherit;
				text-decoration: none;
				background: none;
			}
		}
	}

	&__li {
		opacity: 0;
		position: relative;
		transform: translateY(2em);
		transition: transform 0.5s ease, opacity 0.5s ease;

		&--current > #{$nav}__a {
			@include activeNavItem();
		}

		&.active {
			opacity: 1;
			transform: none;
		}
	}

	/*==========----------==========*/
	/*      MOBILE NAV BUTTON       */
	/*==========----------==========*/
	&__button {
		/*====------ GENERAL ------====*/

		$navBtn: &;

		flex-shrink: 0;
		cursor: pointer;
		width: $navBtnDiam;
		height: $navBtnDiam;
		margin: 0;
		border-radius: 0 0 0 $borderRadius;
		background-color: $linkColor;
		box-shadow: $softShadow;
		position: relative;
		transition: background-color $longTransitionAppendix;

		&Blocks {
			@include absolute(center);
			display: grid;
			grid-template: auto auto auto / auto auto auto;
			align-content: space-between;
			justify-content: space-between;
			width: 42%;
			height: 42%;
		}

		&Block {
			width: $navBtnBlockDiam;
			height: $navBtnBlockDiam;
			border-radius: 50%;
			background: $lightTextColor;

			&--disapparate {
				opacity: 1;
				transition: opacity $longTransitionAppendix;
			}
		}

		/*-- hover --*/
		@media (hover: hover) {
			&:hover {
				background-color: lighten($linkColor, 5%);
			}
		}

		/*-- active --*/
		&.active {
			background-color: map-get($bgColors, lightBg);

			#{$navBtn}Block {
				background-color: $mobileNavBg;

				&--disapparate {
					opacity: 0;
				}
			}
		}
	}
}

/*==========----------==========*/
/*      MOBILE NAV DRAWER       */
/*==========----------==========*/
.mobileNav {
	position: fixed;
	top: 0;
	right: 0;
	z-index: 99;
	transition: box-shadow $longTransitionAppendix, background-color $longTransitionAppendix;

	&__item {
		display: none;
	}
}

/*==========----------==========*/
/*      REVEAL NAVIGATION       */
/*==========----------==========*/

.showNav #{$nav} {
	opacity: 1;
	visibility: visible;
	pointer-events: all;
}

/*//////////////////////////////////////////////////////*/
/*//====================----------====================//*/
/*//                   MEDIA QUERIES                  //*/
/*//====================----------====================//*/
/*//////////////////////////////////////////////////////*/

/*==========----------==========*/
/*         $tablet WIDTH        */
/*==========----------==========*/

@media (max-width: $tablet) {
	#{$nav} {
		&__wrp {
			padding: 8em 1em 2em 1em;
		}
	}
}

/*==========----------==========*/
/*         $phone WIDTH         */
/*==========----------==========*/

@media (max-width: $phone) {
	#{$nav} {
		&__wrp {
			padding: 6em 1em 2em 1em;
		}

		&__button {
			border-radius: 50%;
			transform: translate(-0.5em, -0.5em);
		}
	}

	.mobileNav {
		@include flexWrap(row, nowrap, flex-start, flex-start);
		background: $navDrawerBg;
		top: auto;
		left: 0;
		bottom: 0;

		&__item {
			@include flexWrap(column, nowrap, center, center);
			flex: 1 0 auto;
			padding: 0.5em 0.25em 0.25em 0.25em;
			text-align: center;
		}

		&__icon {
			width: 100%;
			height: auto;
			max-width: 36px;
			max-height: 28px;
		}

		&__label {
			@include heading;
			display: block;
			margin: 0.35em 0 0 0;
			font-size: 0.65em;
			color: $lightTextColor;
		}
	}
}

/*==========----------==========*/
/*           IPHONE X+          */
/*==========----------==========*/

/* iPhone X, XS */
@media only screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3),
	/* iPhone XR */ only screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2),
	/* iPhone XS Max */ only screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) {
}
